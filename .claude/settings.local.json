{
  "permissions": {
    "allow": [
      "Bash(sshpass -p '2-jR5H2g*XfY$tD4' ssh -o StrictHostKeyChecking=no root@104.156.247.226 \"PGPASSWORD=''UniformesCloud2025'' psql -h localhost -U uniformes_user -d uniformes_db -c \"\"\n-- Ver los valores actuales del enum\nSELECT unnest(enum_range(NULL::sale_source_enum));\n\"\"\")",
      "Bash(sshpass -p '2-jR5H2g*XfY$tD4' ssh -o StrictHostKeyChecking=no root@104.156.247.226 \"cd /var/www/uniformes-system-v2 && git status\")",
      "Bash(git commit:*)",
      "Bash(git push:*)",
      "Bash(npm run build:*)",
      "Bash(sshpass -p '2-jR5H2g*XfY$tD4' ssh -o StrictHostKeyChecking=no root@104.156.247.226 \"PGPASSWORD=''UniformesCloud2025'' psql -h localhost -U uniformes_user -d uniformes_db -c \"\"ALTER TABLE orders ALTER COLUMN user_id DROP NOT NULL;\"\"\")",
      "Bash(git add:*)",
      "Bash(sshpass -p '2-jR5H2g*XfY$tD4' ssh -o StrictHostKeyChecking=no root@104.156.247.226 \"cd /var/www/uniformes-system-v2 && git pull origin develop\")",
      "Bash(sshpass -p '2-jR5H2g*XfY$tD4' ssh -o StrictHostKeyChecking=no root@104.156.247.226 \"cd /var/www/uniformes-system-v2 && git checkout -- . && git pull origin develop\")",
      "Bash(sshpass -p '2-jR5H2g*XfY$tD4' ssh -o StrictHostKeyChecking=no root@104.156.247.226 \"systemctl restart uniformes-api && sleep 3 && systemctl status uniformes-api --no-pager\")",
      "Bash(sshpass -p '2-jR5H2g*XfY$tD4' ssh -o StrictHostKeyChecking=no root@104.156.247.226 'curl -s -X POST http://localhost:8000/api/v1/portal/orders/create \\\n  -H \"\"Content-Type: application/json\"\" \\\n  -d \"\"{\n    \\\"\"school_id\\\"\": \\\"\"050f6088-9ae2-41a3-a415-84c669250169\\\"\",\n    \\\"\"client_id\\\"\": \\\"\"6741a5e3-4f6e-44de-821d-239240b8bd68\\\"\",\n    \\\"\"items\\\"\": [{\n      \\\"\"garment_type_id\\\"\": \\\"\"4b8d72d6-2b63-45d7-8555-34f56cd3f17a\\\"\",\n      \\\"\"quantity\\\"\": 1,\n      \\\"\"unit_price\\\"\": 50000,\n      \\\"\"size\\\"\": \\\"\"M\\\"\"\n    }]\n  }\"\"')",
      "Bash(grep:*)",
      "Bash(sshpass -p '2-jR5H2g*XfY$tD4' ssh -o StrictHostKeyChecking=no root@104.156.247.226 \"PGPASSWORD=''UniformesCloud2025'' psql -h localhost -U uniformes_user -d uniformes_db -c \"\"\nINSERT INTO garment_types (id, school_id, name, description, category, requires_embroidery, has_custom_measurements, is_active, created_at, updated_at) VALUES \n(''36639e03-ee1c-4248-94df-403068b8d34b'', ''050f6088-9ae2-41a3-a415-84c669250169'', ''Blusa'', ''Blusa escolar'', ''superior'', false, false, true, NOW(), NOW()),\n(''956455c4-8fe2-4726-8306-5b668a0d804b'', ''050f6088-9ae2-41a3-a415-84c669250169'', ''Jean'', ''Jean escolar'', ''inferior'', false, false, true, NOW(), NOW()),\n(''8bed1b8a-74aa-4547-b4e9-00d66df8d359'', ''050f6088-9ae2-41a3-a415-84c669250169'', ''Medias'', ''Medias escolares'', ''accesorio'', false, false, true, NOW(), NOW()),\n(''5b1f183e-4ac5-4136-9d74-14596ca4f4d4'', ''050f6088-9ae2-41a3-a415-84c669250169'', ''Tennis'', ''Tennis escolares'', ''calzado'', false, false, true, NOW(), NOW()),\n(''d57c4c0c-0ec5-4daa-88ac-fd45a66b3361'', ''050f6088-9ae2-41a3-a415-84c669250169'', ''Zapatos'', ''Zapatos escolares'', ''calzado'', false, false, true, NOW(), NOW())\nON CONFLICT (id) DO NOTHING;\n\"\"\")",
      "Bash(sshpass -p '2-jR5H2g*XfY$tD4' ssh -o StrictHostKeyChecking=no root@104.156.247.226 \"PGPASSWORD=''UniformesCloud2025'' psql -h localhost -U uniformes_user -d uniformes_db -c \"\"\n\\d order_items\n\"\" | grep -A 5 ''Foreign-key''\")",
      "Bash(git commit -m \"$(cat <<''EOF''\nfeat: Restructure order system with 3 order types (catalog, yomber, custom)\n\n- Backend: Update OrderItemCreate schema with order_type, product_id, additional_price\n- Backend: Replace hardcoded $50,000 price with type-based pricing logic\n- Frontend: Add OrderType, YomberMeasurements types to api.ts\n- Frontend: Create YomberMeasurementsForm component for yomber orders\n- Frontend: Refactor OrderModal with 3 tabs (CatÃ¡logo, Yomber, Personalizado)\n- Frontend: Create WebOrders page to manage web portal orders\n- Frontend: Add /web-orders route and navigation link\n\nOrder types:\n- Catalog: Price from selected product (out-of-stock items)\n- Yomber: Base product price + additional services + required measurements\n- Custom: Manual price entry for special items\nEOF\n)\")",
      "Bash(sshpass -p '2-jR5H2g*XfY$tD4' ssh -o StrictHostKeyChecking=no root@104.156.247.226 \"journalctl -u uniformes-api -n 50 --no-pager\")",
      "Bash(sshpass -p '2-jR5H2g*XfY$tD4' ssh -o StrictHostKeyChecking=no root@104.156.247.226 \"journalctl -u uniformes-api --since ''10 minutes ago'' --no-pager | grep -i ''error\\|500\\|traceback'' -A 5\")",
      "Bash(sshpass -p '2-jR5H2g*XfY$tD4' ssh -o StrictHostKeyChecking=no root@104.156.247.226 \"cd /var/www/uniformes-system-v2/backend && source venv/bin/activate && PGPASSWORD=''$Un1f0rm3s2024!'' psql -h localhost -U uniformes_user -d uniformes_db -c \"\"SELECT id, code, source, user_id, created_at FROM orders ORDER BY created_at DESC LIMIT 10;\"\"\")",
      "Bash(source venv/bin/activate)",
      "Bash(python:*)"
    ],
    "deny": [],
    "ask": []
  }
}
